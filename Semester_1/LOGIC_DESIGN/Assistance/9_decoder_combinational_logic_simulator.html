<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Î’Î®Î¼Î±-Î’Î®Î¼Î±: mi,x,y,z â†’ A,B,C (Î‘Ï€Î»Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿)</title>
  <style>
    :root{
      --bg:#0c0f14;--panel:#121722;--text:#e8eefc;--muted:#9bb0d0;--accent:#4cc9f0;
      --hot:#7cff6b;--warn:#ffb84d;--bit-on:#00e676;--bit-off:#2b3446;--wire:#5c6b86;--wire-active:#43d966;--gate:#263246;--decoder:#1f2a3b;
      --hl:#ffd54a;
    }
    html,body{height:100%;margin:0}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(1200px 800px at 30% 0%, #152033 0%, var(--bg) 55%);
      color: var(--text);
      line-height:1.4; padding:18px;
    }
    .container{max-width:1280px;margin:0 auto}
    .header-flex{display:flex; justify-content:space-between; align-items:center; gap: 16px; flex-wrap: wrap;}
    h1{margin:0 0 12px; font-size:22px; color:var(--accent)}
    .panel{
      background: linear-gradient(180deg,#111827 0%, var(--panel) 100%);
      border:1px solid #1f2937; border-radius:14px; padding:16px; margin:14px 0;
      box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
    }
    .grid-3{display:grid; grid-template-columns: repeat(3,1fr); gap:16px}
    @media (max-width: 768px) { .grid-3{grid-template-columns: 1fr;} }
    .note{color:#cfe3ff; font-size:13px}
    table{width:100%; border-collapse:collapse; overflow:hidden; border-radius:10px; background:#0f1624}
    th,td{border:1px solid #1e2a3c; padding:10px 12px; text-align:center; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;}
    th{background:#1a2332; color:var(--accent)}
    .row-hl{background: rgba(255,213,74,.15)}
    .cell-hl{background: rgba(124,255,107,.15)}
    .bit1{color:var(--hot); font-weight:700}
    .bit0{color:var(--muted)}
    .btn{padding:8px 12px; border:none; border-radius:8px; background:#2a3447; color:var(--text); cursor:pointer; font-size: 14px;}
    .btn:hover{background:#3a4557}
    .btn.active{background:var(--accent); color:#000}
    .btn.play{background:var(--hot); color:#000}
    .btn.pause{background:var(--warn); color:#000}
    #toggle-view-btn {background: #3a4557;}
    .status{background:#0f1725; border:1px solid #1e293b; border-radius:8px; padding:10px; font-family: ui-monospace, monospace; font-size: 13px;}
    .explain{background:#0f1725; border:1px solid #1e293b; border-radius:8px; padding:12px; font-family: ui-monospace, monospace; min-height:42px}
    .kpi{display:flex; gap:10px; flex-wrap:wrap; margin-top: 16px;}
    .tag{padding:4px 8px; border-radius:999px; background:#0f1624; border:1px solid #1e2a3c; font-size:12px}
    svg{width:100%; height:auto; aspect-ratio: 1000 / 580; background: linear-gradient(180deg, rgba(17,24,39,.2) 0%, rgba(17,24,39,.05) 100%); border-radius:12px; border:1px solid #1e293b}
    .decoder{fill:var(--decoder); stroke:#2a3a52; stroke-width:1.5}
    .label{fill:#bcd5ff; font-size:12px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;}
    .label.big{font-weight:700; font-size:14px}
    .dnode{fill:#0e1523; stroke:#22324a; stroke-width:1.5}
    .dnode.active{fill:#0a2513; stroke:#2b7a3a; filter: drop-shadow(0 0 10px rgba(67,217,102,.6))}
    .wire{stroke:var(--wire); stroke-width:2.2; fill:none}
    .wire.active{stroke:var(--wire-active); stroke-width:3.4; filter: drop-shadow(0 0 6px rgba(67,217,102,.4))}
    .orgate{fill:var(--gate); stroke:#2a3a52; stroke-width:1.5}
    .outbox{fill:#0f1624; stroke:#20324d; stroke-width:1.4; rx:8; ry:8}
    .outbox.on{stroke:#2d7f4a; fill:rgba(67,217,102,.12)}
    .eq{font-family: ui-monospace, monospace; background:#0f1725; border:1px solid #1e293b; border-radius:8px; padding:10px; color:#b9cff2}
    #explanation-page .panel { padding: 24px; } #explanation-page h2 { color: var(--accent); margin-top: 20px; border-bottom: 1px solid #2a3a52; padding-bottom: 8px; }
    #explanation-page h3 { color: var(--hot); margin-top: 24px; } #explanation-page p { margin: 8px 0; }
    #explanation-page code { background: #0f1624; padding: 3px 6px; border-radius: 4px; border: 1px solid #1e2a3c; }
    #explanation-page hr { border: none; height: 1px; background-color: #2a3a52; margin-top: 32px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header-flex">
      <h1>Î‘Ï€ÏŒ mi,x,y,z ÏƒÎµ A,B,C (Î‘Ï€Î»Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿)</h1>
      <button id="toggle-view-btn" class="btn">Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÎ® Î•Î¾Î®Î³Î·ÏƒÎ·</button>
    </div>

    <!-- Page 1: Interactive Simulation -->
    <div id="simulation-page">
      <div class="panel controls">
        <div class="grid-3">
          <div>
            <div style="margin-bottom:6px;color:#b9cff2">Î¤Î±Ï‡ÏÏ„Î·Ï„Î±</div>
            <button class="btn speed active" data-ms="800">ÎšÎ±Î½Î¿Î½Î¹ÎºÎ®</button>
            <button class="btn speed" data-ms="1500">Î‘ÏÎ³Î®</button>
            <button class="btn speed" data-ms="400">Î“ÏÎ®Î³Î¿ÏÎ·</button>
          </div>
          <div>
            <div style="margin-bottom:6px;color:#b9cff2">ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚</div>
            <button id="play" class="btn play">â–¶ ÎˆÎ½Î±ÏÎ¾Î·</button>
            <button id="pause" class="btn">â¸ Î Î±ÏÏƒÎ·</button>
            <button id="step" class="btn">â¤ Î’Î®Î¼Î±</button>
            <button id="reset" class="btn">ğŸ”„ Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬</button>
          </div>
          <div class="status">
            Î£ÎµÎ¹ÏÎ¬: mi=<span id="mi"></span> | xyz=<span id="xyz"></span><br>
            Î£Ï„Î¬Î´Î¹Î¿: <span id="stageName"></span>
          </div>
        </div>
        <div class="explain" id="explain">Î Î±Ï„Î®ÏƒÏ„Îµ 'ÎˆÎ½Î±ÏÎ¾Î·' Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹ Î· Ï€ÏÎ¿ÏƒÎ¿Î¼Î¿Î¯Ï‰ÏƒÎ·.</div>
      </div>

      <div class="panel"> <table id="tt"> <thead> <tr> <th>mi</th><th>x</th><th>y</th><th>z</th> <th>v</th><th>ÎšÎ±Î½ÏŒÎ½Î±Ï‚</th><th>f(v)</th><th>f(v)â‚‚</th> <th>A</th><th>B</th><th>C</th> </tr> </thead> <tbody></tbody> </table> </div>
      <div class="panel"> <div class="eq"> A = Î£m(3,6,7), B = Î£m(1,2,4,5), C = Î£m(0,2,5,7) </div> <div class="kpi"> <span class="tag">A â‡ D3,D6,D7</span> <span class="tag">B â‡ D1,D2,D4,D5</span> <span class="tag">C â‡ D0,D2,D5,D7</span> </div> </div>
      <div class="panel"> <svg viewBox="0 0 1000 580"> <rect x="150" y="100" width="210" height="380" rx="12" class="decoder"/> <text x="255" y="125" class="label big" text-anchor="middle">3â†’8 DECODER</text> <text x="55" y="170" class="label">x</text> <text x="55" y="210" class="label">y</text> <text x="55" y="250" class="label">z</text> <line id="wx" x1="80" y1="165" x2="150" y2="165" class="wire"/> <line id="wy" x1="80" y1="205" x2="150" y2="205" class="wire"/> <line id="wz" x1="80" y1="245" x2="150" y2="245" class="wire"/> <g id="Douts"></g> <path d="M650,220 C670,220 680,230 690,240 C680,250 670,260 650,260 C655,250 655,230 650,220 Z" class="orgate"/> <text x="700" y="245" class="label big">ORâ†’B</text> <path d="M650,320 C670,320 680,330 690,340 C680,350 670,360 650,360 C655,350 655,330 650,320 Z" class="orgate"/> <text x="700" y="345" class="label big">ORâ†’A</text> <path d="M650,420 C670,420 680,430 690,440 C680,450 670,460 650,460 C655,450 655,430 650,420 Z" class="orgate"/> <text x="700" y="445" class="label big">ORâ†’C</text> <rect id="boxB" x="800" y="220" width="80" height="40" class="outbox"/> <text x="840" y="244" class="label big" text-anchor="middle">B</text> <line id="woutB" x1="690" y1="240" x2="800" y2="240" class="wire"/> <rect id="boxA" x="800" y="320" width="80" height="40" class="outbox"/> <text x="840" y="344" class="label big" text-anchor="middle">A</text> <line id="woutA" x1="690" y1="340" x2="800" y2="340" class="wire"/> <rect id="boxC" x="800" y="420" width="80" height="40" class="outbox"/> <text x="840" y="444" class="label big" text-anchor="middle">C</text> <line id="woutC" x1="690" y1="440" x2="800" y2="440" class="wire"/> <g id="wires"></g> </svg> </div>
    </div>

    <div id="explanation-page" style="display: none;"> <div class="panel"> <h2>Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÏŒÏ‚ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ (Î‘Ï€Î»Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿Ï‚)</h2> <p>Î‘Ï…Ï„Î® Î· ÏƒÎµÎ»Î¯Î´Î± Ï€ÎµÏÎ¹Î³ÏÎ¬Ï†ÎµÎ¹ Ï„Î¿Ï…Ï‚ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿ÏÏ‚ Î³Î¹Î± ÎºÎ¬Î¸Îµ Î³ÏÎ±Î¼Î¼Î® Ï„Î¿Ï… Ï€Î¯Î½Î±ÎºÎ± Î±Î»Î·Î¸ÎµÎ¯Î±Ï‚ Î¼Îµ Î±Ï€Î»ÏŒ Ï„ÏÏŒÏ€Î¿.</p> <div id="explanation-content"></div> </div> </div>
  </div>

<script>
    // --- DATA & CONFIG ---
    const rowsData = [
      {mi:0, x:0,y:0,z:0}, {mi:1, x:0,y:0,z:1}, {mi:2, x:0,y:1,z:0}, {mi:3, x:0,y:1,z:1},
      {mi:4, x:1,y:0,z:0}, {mi:5, x:1,y:0,z:1}, {mi:6, x:1,y:1,z:0}, {mi:7, x:1,y:1,z:1}
    ];
    const minterms = { A: [3,6,7], B: [1,2,4,5], C: [0,2,5,7] };
    const stages = ["Î•Ï€Î¹Î»Î¿Î³Î® ÎšÎ±Î½ÏŒÎ½Î±", "Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î•Î¾ÏŒÎ´Î¿Ï…", "Î‘Î½Î¬Î¸ÎµÏƒÎ· A, B, C"];

    // --- DOM ELEMENTS ---
    const ttBody = document.querySelector('#tt tbody'), miEl = document.getElementById('mi'), xyzEl = document.getElementById('xyz');
    const stageEl = document.getElementById('stageName'), explainEl = document.getElementById('explain'), btnPlay = document.getElementById('play');
    const btnPause = document.getElementById('pause'), btnStep = document.getElementById('step'), btnReset = document.getElementById('reset');
    const speedBtns = document.querySelectorAll('.speed'), toggleBtn = document.getElementById('toggle-view-btn');
    const simPage = document.getElementById('simulation-page'), expPage = document.getElementById('explanation-page');
    const explanationContent = document.getElementById('explanation-content'), Dgroup = document.getElementById('Douts'), wiresGroup = document.getElementById('wires');
    const wx = document.getElementById('wx'), wy = document.getElementById('wy'), wz = document.getElementById('wz');
    const woutA = document.getElementById('woutA'), woutB = document.getElementById('woutB'), woutC = document.getElementById('woutC');
    const boxA = document.getElementById('boxA'), boxB = document.getElementById('boxB'), boxC = document.getElementById('boxC');

    // --- STATE ---
    let curRow = 0, stage = 0, timer = null, delay = 800, playing = false;

    // --- HELPERS ---
    const pad3 = n => n.toString(2).padStart(3, '0');
    const getCells = mi => {
      const tr = ttBody.querySelector(`tr[data-mi="${mi}"]`);
      if (!tr) return null;
      const tds = tr.querySelectorAll('td');
      return { tr, v: tds[4], rule: tds[5], f: tds[6], fbin: tds[7], A: tds[8], B: tds[9], C: tds[10] };
    };

    // --- INITIALIZATION ---
    function buildTable() {
      ttBody.innerHTML = '';
      rowsData.forEach(r => {
        const tr = document.createElement('tr');
        tr.dataset.mi = r.mi;
        tr.innerHTML = `<td>${r.mi}</td><td class="${r.x ? 'bit1' : 'bit0'}">${r.x}</td><td class="${r.y ? 'bit1' : 'bit0'}">${r.y}</td><td class="${r.z ? 'bit1' : 'bit0'}">${r.z}</td>
                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td>`;
        ttBody.appendChild(tr);
      });
    }

    function buildCircuit() {
      Dgroup.innerHTML = ''; wiresGroup.innerHTML = ''; // Clear previous
      for (let i = 0; i < 8; i++) {
        const cy = 140 + i * 40;
        Dgroup.innerHTML += `<circle cx="360" cy="${cy}" r="6" id="D${i}" class="dnode"></circle>
                             <text x="375" y="${cy + 4}" class="label">D${i}</text>`;
      }
      minterms.A.forEach(m => wiresGroup.innerHTML += `<path d="M360,${140 + m * 40} L520,${140 + m * 40} L520,340 L650,340" class="wire" id="w-A-${m}"></path>`);
      minterms.B.forEach(m => wiresGroup.innerHTML += `<path d="M360,${140 + m * 40} L500,${140 + m * 40} L500,240 L650,240" class="wire" id="w-B-${m}"></path>`);
      minterms.C.forEach(m => wiresGroup.innerHTML += `<path d="M360,${140 + m * 40} L480,${140 + m * 40} L480,440 L650,440" class="wire" id="w-C-${m}"></path>`);
    }

    function generateTextExplanation() {
      let html = '';
      rowsData.forEach(row => {
        const v = (row.x << 2) | (row.y << 1) | row.z;
        const usePlus1 = v <= 3;
        const ruleText = usePlus1 ? '+1' : 'âˆ’2';
        const f = usePlus1 ? v + 1 : v - 2;
        const fbin = pad3(f);
        const [A, B, C] = fbin.split('');
        html += `<hr>
                <h2>Î“ÏÎ±Î¼Î¼Î® mi = ${row.mi} (xyz = ${row.x}${row.y}${row.z})</h2>
                <h3>1. Î ÏÎ¿ÏƒÎ´Î¹Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÎšÎ±Î½ÏŒÎ½Î±</h3>
                <p>Î— Î´Ï…Î±Î´Î¹ÎºÎ® ÎµÎ¯ÏƒÎ¿Î´Î¿Ï‚ <code>${row.x}${row.y}${row.z}</code> Î±Î½Ï„Î¹ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯ ÏƒÏ„Î· Î´ÎµÎºÎ±Î´Î¹ÎºÎ® Ï„Î¹Î¼Î® <b>${v}</b>.</p>
                <p>Î•Ï€ÎµÎ¹Î´Î® ${v} ${usePlus1 ? 'ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î·Î½ Ï€ÎµÏÎ¹Î¿Ï‡Î® [0-3]' : 'ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î·Î½ Ï€ÎµÏÎ¹Î¿Ï‡Î® [4-7]'}, ÎµÏ†Î±ÏÎ¼ÏŒÎ¶ÎµÏ„Î±Î¹ Î¿ ÎºÎ±Î½ÏŒÎ½Î±Ï‚: <b>${ruleText}</b>.</p>
                <h3>2. Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î•Î¾ÏŒÎ´Î¿Ï…</h3>
                <p>Î•ÎºÏ„ÎµÎ»Î¿ÏÎ¼Îµ Ï„Î·Î½ Ï€ÏÎ¬Î¾Î·: <code>${v} ${ruleText} = ${f}</code>.</p>
                <p>Î¤Î¿ Î±Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î± ${f} ÏƒÎµ Ï„ÏÎ¹ÏˆÎ®Ï†Î¹Î¿ Î´Ï…Î±Î´Î¹ÎºÏŒ ÎµÎ¯Î½Î±Î¹ <code>${fbin}</code>.</p>
                <h3>3. Î‘Î½Î¬Î¸ÎµÏƒÎ· A, B, C</h3>
                <p>Î‘Ï€ÏŒ Ï„Î¿ Î´Ï…Î±Î´Î¹ÎºÏŒ Î±Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î± <code>${A}${B}${C}</code>, Î¿Î¹ Î­Î¾Î¿Î´Î¿Î¹ ÎµÎ¯Î½Î±Î¹:</p>
                <p><b>A = ${A}</b>, <b>B = ${B}</b>, <b>C = ${C}</b></p>`;
      });
      explanationContent.innerHTML = html;
    }

    // --- SIMULATION LOGIC ---
    function clearHighlights() {
      document.querySelectorAll('#tt tr, #tt td').forEach(el => el.classList.remove('row-hl', 'cell-hl'));
      document.querySelectorAll('.dnode, .wire, .outbox').forEach(el => el.classList.remove('active', 'on'));
    }

    function updateRowStage() {
      if (curRow >= rowsData.length) { pause(); return; }
      const r = rowsData[curRow];
      const cells = getCells(r.mi);
      const v = (r.x << 2) | (r.y << 1) | r.z;
      const rule = (v <= 3) ? '+1' : 'âˆ’2';
      const f = (v <= 3) ? v + 1 : v - 2;
      const fbin = pad3(f);
      const [A, B, C] = fbin.split('').map(Number);

      miEl.textContent = r.mi;
      xyzEl.textContent = `${r.x}${r.y}${r.z}`;
      stageEl.textContent = stages[stage];

      clearHighlights();
      cells.tr.classList.add('row-hl');
      wx.classList.toggle('active', r.x === 1); wy.classList.toggle('active', r.y === 1); wz.classList.toggle('active', r.z === 1);
      document.getElementById(`D${v}`).classList.add('active');

      const highlightCell = (cell, value) => { cell.textContent = value; cell.classList.add('cell-hl'); };

      if (stage === 0) {
        explainEl.textContent = `xyz=${r.x}${r.y}${r.z} â†’ v=${v}. Î•Ï€ÎµÎ¹Î´Î® ${v}â‰¤3, Î¿ ÎºÎ±Î½ÏŒÎ½Î±Ï‚ ÎµÎ¯Î½Î±Î¹ +1.`;
        if (v > 3) explainEl.textContent = `xyz=${r.x}${r.y}${r.z} â†’ v=${v}. Î•Ï€ÎµÎ¹Î´Î® ${v}>3, Î¿ ÎºÎ±Î½ÏŒÎ½Î±Ï‚ ÎµÎ¯Î½Î±Î¹ -2.`;
        highlightCell(cells.v, v);
        highlightCell(cells.rule, rule);
      } else if (stage === 1) {
        explainEl.textContent = `Î ÏÎ¬Î¾Î·: ${v} ${rule} = ${f}. Î”Ï…Î±Î´Î¹ÎºÎ® Î¼Î¿ÏÏ†Î®: ${fbin}.`;
        highlightCell(cells.f, f);
        highlightCell(cells.fbin, fbin);
      } else if (stage === 2) {
        explainEl.textContent = `Î‘Ï€ÏŒ ${fbin} â†’ A=${A}, B=${B}, C=${C}.`;
        [cells.A, cells.B, cells.C].forEach(c => c.classList.add('cell-hl'));
        cells.A.textContent = A; cells.B.textContent = B; cells.C.textContent = C;
        cells.A.className += A ? ' bit1' : ' bit0';
        cells.B.className += B ? ' bit1' : ' bit0';
        cells.C.className += C ? ' bit1' : ' bit0';
        
        if (A) { document.getElementById(`w-A-${v}`)?.classList.add('active'); boxA.classList.add('on'); woutA.classList.add('active'); }
        if (B) { document.getElementById(`w-B-${v}`)?.classList.add('active'); boxB.classList.add('on'); woutB.classList.add('active'); }
        if (C) { document.getElementById(`w-C-${v}`)?.classList.add('active'); boxC.classList.add('on'); woutC.classList.add('active'); }
      }
    }

    function next() {
      if (stage < 2) { stage++; }
      else { stage = 0; curRow = (curRow + 1) % rowsData.length; }
      updateRowStage();
    }

    // --- CONTROLS ---
    function start() {
      if (playing) return;
      playing = true;
      btnPlay.classList.replace('play', 'pause'); btnPlay.textContent = 'â¸ Î•ÎºÏ„Î­Î»ÎµÏƒÎ·';
      updateRowStage();
      timer = setInterval(next, delay);
    }
    function pause() {
      playing = false;
      btnPlay.classList.replace('pause', 'play'); btnPlay.textContent = 'â–¶ ÎˆÎ½Î±ÏÎ¾Î·';
      clearInterval(timer); timer = null;
    }
    function reset() {
      pause();
      curRow = 0; stage = 0;
      buildTable();
      clearHighlights();
      updateRowStage();
      explainEl.textContent = `Î Î±Ï„Î®ÏƒÏ„Îµ 'ÎˆÎ½Î±ÏÎ¾Î·' Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹ Î· Ï€ÏÎ¿ÏƒÎ¿Î¼Î¿Î¯Ï‰ÏƒÎ·.`;
      stageEl.textContent = "Î‘Î½Î±Î¼Î¿Î½Î®"; miEl.textContent = "-"; xyzEl.textContent = "---";
    }

    // --- EVENT LISTENERS ---
    speedBtns.forEach(b => b.addEventListener('click', () => {
      speedBtns.forEach(bb => bb.classList.remove('active'));
      b.classList.add('active');
      delay = parseInt(b.dataset.ms, 10);
      if (playing) { pause(); start(); }
    }));
    btnPlay.addEventListener('click', () => playing ? pause() : start());
    btnPause.addEventListener('click', pause);
    btnStep.addEventListener('click', () => { pause(); next(); });
    btnReset.addEventListener('click', reset);
    toggleBtn.addEventListener('click', () => {
      const isSimVisible = simPage.style.display !== 'none';
      simPage.style.display = isSimVisible ? 'none' : 'block';
      expPage.style.display = isSimVisible ? 'block' : 'none';
      toggleBtn.textContent = isSimVisible ? 'Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î·Î½ Î ÏÎ¿ÏƒÎ¿Î¼Î¿Î¯Ï‰ÏƒÎ·' : 'Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÎ® Î•Î¾Î®Î³Î·ÏƒÎ·';
      if (!isSimVisible) reset();
    });

    // --- SCRIPT KICK-OFF ---
    buildTable();
    buildCircuit();
    generateTextExplanation();
    reset();
</script>
</body>
</html>
